[tox]
envlist = py312, coverage  # Adicione o ambiente de cobertura aqui
skipsdist = True

[testenv]  
description = run the tests with pytest  
skip_install = true  
allowlist_externals = poetry  
commands_pre =  
    poetry install  
commands =   
    poetry run pytest {posargs}

[testenv:coverage]
description = run coverage report  
skip_install = true  
allowlist_externals = poetry  
commands_pre =  
    poetry install  
commands = 
    poetry run coverage run --branch --source=app -m pytest  # Executa os testes com cobertura
    poetry run coverage xml  # Gera o arquivo XML de cobertura
    poetry run coverage report  # Adiciona um relat√≥rio de cobertura no console